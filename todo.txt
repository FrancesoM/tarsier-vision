Poor's man Jira

+++ Bugs:
    [x] Keep rolling buffer (max 10 segments)
        - When specifying max_segments in the pipeline, it seems to just stop saving them after 10 instead of rolling window 
        - FIXED: manual clean up of old files, keep only 10
    [x] The stitching logic doesn't work probably mkv headers are not aligned
        - FIXED: Some files were overwritten because of wrong rolling buffer hence headers were wrong. 
    [x] Avoid double detection while it's technically still 
        - FIXED: tpu inference gated by motion. 
    [ ] There is no gitignore   


++  Must have:
    [x] Double check why first sent video is high quality, the next ones are lower
        - This is still somehow happening, some videos are sent with slightly less w*h size
        - It was a problem with how iPhone visualize the video, the sending part is fine
        - DONE: sending video as a file
    [x] Script should be launchable as cron job
        - Cron job should also be the entire container that should run not as interactive but just as a containered app
        - DONE: it's not a cronjob but rather a docker container with an autorestart policy
    [n] Start/Stop gated by reading a GPIO (missing hardware at the moment)
        - Won't do, we use telegram buttons. 
    [x] Start stop based on telegram commands, therefore implement parsing and polling on tarsier-job side
        - DONE: Telegram commands implemented and parsed after long polling

    [x] Send only image, send video only on request through telegram command. 
        - Have some sort of ID to retrieve a particular video. 
        - ID added calculated as an index from the video name's SHA (for reproducibility)
    [x] Gracefull pause/shutdown
        - DONE considering states are correctly initialized at startup, and shutdown is less important
    [x] Remove ram segments when it starts not when it stops
    [x] Move segments instead of copying them  
    [x] Remove some prints especially when acquiring TPU mutex
        - This I/O takes more than the actual TPU processing
        - DONE: just changed the log level to debug 
    [x] Send text message with video, timestamp at which the person is detected
    [x] Script docker run command
    [ ] Commands are duplicated when checking and when passed as a list to the communication functions
    [x] Handle the fact that the command can arrive as "\<cmd>" or "\<cmd>@<botname>" because iphones in group 
        append that automatically, and in the future android might change as well
        - DONE: check with "startswith" instead of equality. It's stricter than <string> in <text> but might still allow
          some false positives, like \up and \uptown match. However the commands are a lmiited set that is agreed upon
          so we can allow these rules. 
    [x] Add a command to trigger, so remotely you can check instantly what is happening. Also useful for debug.
        - DONE: the queue between process commands thread and pipelines thread now supports different commands, mainly
          through a custom dictionary in the queue. Meaning of the message depends on the keys, multiple keys technically
          can be passed like {"STATE":RUNNING,"TRIGGER":1} although it's never done. 

+   Nice to have 
    [ ] Run inference over whole video and draw boxes
    [ ] Use H.264 coded instead of H.265 which telegram should support already without .mp4 coversion
    
